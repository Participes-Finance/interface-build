import{a as e,u as t,b as a}from"./index.e1d71dc3.js";import{d as o,r as s,v as l,u as n,C as i,o as d,e as r,f as u,t as c,x as p,B as v,D as k,b,S as g,w as m,F as f,h}from"./vendor.e1c4da11.js";const{provider:w,userAddress:y,signer:x}=t(),{masterChefV2:A,getERC20Balance:C,approveContract:P}=a();var F=o({name:"PoolCard",props:["tokenAddr","infos","pid"],async setup(t){const a=s(0),o=t.pid;console.log(x.value);const d=t.tokenAddr,r=l(n(await C(d,w.value))),u=new i(d,JSON.stringify(e),w.value),c=await u.name(),p=await u.symbol(),v=parseInt(n(t.infos.amount)).toFixed(4),k=parseInt(n(await b())).toFixed(4);async function b(){var e;return await(null==(e=null==A?void 0:A.value)?void 0:e.pendingParts(o,y.value))}return{tokenAddr:d,tokenBalance:r,tokenName:c,tokenTicker:p,deposited:v,pid:o,depositAmount:a,userAddress:y,claimable:k,isDeployer:!0,deposit:async function(){var e;await(null==(e=null==A?void 0:A.value)?void 0:e.deposit(o,(1e18*a.value).toFixed(),y.value))},approve:async function(){var e;await P(d,x.value,null==(e=null==A?void 0:A.value)?void 0:e.address)},harvestFromMasterChef:async function(){var e;await(null==(e=null==A?void 0:A.value)?void 0:e.harvestFromMasterChef())},harvest:async function(){var e;await(null==(e=null==A?void 0:A.value)?void 0:e.harvest(o,y.value))},pendingParts:b}}});const B={class:"card bg-white"},D={class:"card-content bg-white"},I={class:"media bg-white"},T={class:"media-content bg-white"},N={key:0,class:"title is-4 text-black"},S={key:1,class:"subtitle is-7 text-black"},L={key:2,class:"subtitle is-6 text-black"},j={key:3,class:"subtitle is-6 text-black"},M={key:4,class:"subtitle is-6 text-black"},R=u("div",null,null,-1),V=u("div",null,null,-1);F.render=function(e,t,a,o,s,l){return d(),r("div",B,[u("div",D,[u("div",I,[u("div",T,[e.tokenName?(d(),r("p",N,c(e.tokenName)+"("+c(e.tokenTicker)+") Farm",1)):p("",!0),e.tokenAddr?(d(),r("p",S,c(e.tokenAddr),1)):p("",!0),e.tokenBalance?(d(),r("p",L,"Balance: "+c(e.tokenBalance),1)):p("",!0),e.deposited?(d(),r("p",j,"Deposited: "+c(e.deposited),1)):p("",!0),e.deposited?(d(),r("p",M,"Claimable PARTS: "+c(e.claimable),1)):p("",!0),v(u("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.depositAmount=t),class:"input is-link bg-white text-black",type:"text",placeholder:"Deposit amount"},null,512),[[k,e.depositAmount]])])])]),u("button",{class:"button bg-white text-black",onClick:t[2]||(t[2]=(...t)=>e.deposit&&e.deposit(...t))},"Deposit"),u("button",{class:"button bg-white text-black",onClick:t[3]||(t[3]=(...t)=>e.approve&&e.approve(...t))},"Approve"),R,e.isDeployer?(d(),r("button",{key:0,class:"button bg-white text-black",onClick:t[4]||(t[4]=(...t)=>e.harvest&&e.harvest(...t))},"Harvest")):p("",!0),V])};var E=o({name:"Pools",setup(){const{poolLength:e,pools:t,lpTokens:o,userInfos:s}=a();return console.log(null==e?void 0:e.value),console.log(t.value),console.log(o.value),console.log(s.value),{poolLength:e,lpTokens:o,userInfos:s}},components:{PoolCard:F}});const H=u("div",null,"Pools",-1),J={class:"center-div"},O={class:"grid grid-cols-1 lg:grid-cols-2 gap-x-8 gap-y-8 auto-rows-fr",style:{"margin-top":"20px"}};E.render=function(e,t,a,o,s,l){const n=b("PoolCard");return d(),r(f,null,[H,u("div",null,[u("p",null,"Number of Pools: "+c(e.poolLength),1)]),u("div",null,[u("div",J,[(d(),r(g,null,{default:m((()=>[u("div",O,[(d(!0),r(f,null,h(e.lpTokens,((t,a)=>(d(),r(n,{key:parseInt(a.toString()),tokenAddr:t,infos:e.userInfos[a],pid:a},null,8,["tokenAddr","infos","pid"])))),128))])])),_:1}))])])],64)};export default E;
