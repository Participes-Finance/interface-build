import{a as e,u as t,b as a}from"./index.0972d981.js";import{d as o,r as s,v as l,u as n,C as i,o as r,e as d,f as u,t as c,x as p,B as v,D as k,b,S as m,w as h,F as f,h as g}from"./vendor.e1c4da11.js";const{provider:w,userAddress:y,signer:x}=t(),{masterChefV2:C,getERC20Balance:A,approveContract:F}=a();var P=o({name:"PoolCard",props:["tokenAddr","infos","pid"],async setup(t){const a=s(0),o=t.pid;console.log(x.value);const r=t.tokenAddr,d=l(n(await A(r,w.value))),u=new i(r,JSON.stringify(e),w.value),c=await u.name(),p=await u.symbol(),v=parseInt(n(t.infos.amount)).toFixed(4),k=parseInt(n(await b())).toFixed(4);async function b(){var e;return await(null==(e=null==C?void 0:C.value)?void 0:e.pendingParts(o,y.value))}return{tokenAddr:r,tokenBalance:d,tokenName:c,tokenTicker:p,deposited:v,pid:o,depositAmount:a,userAddress:y,claimable:k,isDeployer:!0,deposit:async function(){var e;await(null==(e=null==C?void 0:C.value)?void 0:e.deposit(o,(1e18*a.value).toFixed(),y.value))},approve:async function(){var e;await F(r,x.value,null==(e=null==C?void 0:C.value)?void 0:e.address)},harvestFromMasterChef:async function(){var e;await(null==(e=null==C?void 0:C.value)?void 0:e.harvestFromMasterChef())},harvest:async function(){var e;await(null==(e=null==C?void 0:C.value)?void 0:e.harvest(o,y.value))},pendingParts:b}}});const D={class:"card bg-white"},B={class:"card-content bg-white"},I={class:"media bg-white"},T={class:"media-content bg-white"},N={key:0,class:"title is-4 text-black"},M={key:1,class:"subtitle is-7 text-black"},S={key:2,class:"subtitle is-6 text-black"},L={key:3,class:"subtitle is-6 text-black"},j={key:4,class:"subtitle is-6 text-black"},H=u("div",null,null,-1),R=u("div",null,null,-1);P.render=function(e,t,a,o,s,l){return r(),d("div",D,[u("div",B,[u("div",I,[u("div",T,[e.tokenName?(r(),d("p",N,c(e.tokenName)+"("+c(e.tokenTicker)+") Farm",1)):p("",!0),e.tokenAddr?(r(),d("p",M,c(e.tokenAddr),1)):p("",!0),e.tokenBalance?(r(),d("p",S,"Balance: "+c(e.tokenBalance),1)):p("",!0),e.deposited?(r(),d("p",L,"Deposited: "+c(e.deposited),1)):p("",!0),e.deposited?(r(),d("p",j,"Claimable PARTS: "+c(e.claimable),1)):p("",!0),v(u("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.depositAmount=t),class:"input is-link bg-white text-black",type:"text",placeholder:"Deposit amount"},null,512),[[k,e.depositAmount]])])])]),u("button",{class:"button bg-white text-black",onClick:t[2]||(t[2]=(...t)=>e.deposit&&e.deposit(...t))},"Deposit"),u("button",{class:"button bg-white text-black",onClick:t[3]||(t[3]=(...t)=>e.approve&&e.approve(...t))},"Approve"),H,e.isDeployer?(r(),d("button",{key:0,class:"button bg-white text-black",onClick:t[4]||(t[4]=(...t)=>e.harvest&&e.harvest(...t))},"Harvest")):p("",!0),e.isDeployer?(r(),d("button",{key:1,class:"button bg-white text-black",onClick:t[5]||(t[5]=(...t)=>e.harvestFromMasterChef&&e.harvestFromMasterChef(...t))},"AdminHarvest")):p("",!0),R])};var V=o({name:"Pools",setup(){const{poolLength:e,pools:t,lpTokens:o,userInfos:s}=a();return console.log(null==e?void 0:e.value),console.log(t.value),console.log(o.value),console.log(s.value),{poolLength:e,lpTokens:o,userInfos:s}},components:{PoolCard:P}});const E=u("div",null,"Pools",-1),J={class:"center-div"};V.render=function(e,t,a,o,s,l){const n=b("PoolCard");return r(),d(f,null,[E,u("div",null,[u("p",null,"Number of Pools: "+c(e.poolLength),1)]),u("div",null,[u("div",J,[(r(),d(m,null,{default:h((()=>[(r(!0),d(f,null,g(e.lpTokens,((t,a)=>(r(),d(n,{key:parseInt(a.toString()),tokenAddr:t,infos:e.userInfos[a],pid:a},null,8,["tokenAddr","infos","pid"])))),128))])),_:1}))])])],64)};export default V;
