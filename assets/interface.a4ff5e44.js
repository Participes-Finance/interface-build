import{a3 as t,a5 as e,a0 as r,a1 as n,$ as o,g as s,a4 as a,a2 as i,a9 as u,a6 as l}from"./vendor.e1c4da11.js";let c=!1,h=!1;const m={debug:1,default:2,info:2,warning:3,error:4,off:5};let f=m.default,g=null;const p=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var E,d,y,N;(d=E||(E={})).DEBUG="DEBUG",d.INFO="INFO",d.WARNING="WARNING",d.ERROR="ERROR",d.OFF="OFF",(N=y||(y={})).UNKNOWN_ERROR="UNKNOWN_ERROR",N.NOT_IMPLEMENTED="NOT_IMPLEMENTED",N.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",N.NETWORK_ERROR="NETWORK_ERROR",N.SERVER_ERROR="SERVER_ERROR",N.TIMEOUT="TIMEOUT",N.BUFFER_OVERRUN="BUFFER_OVERRUN",N.NUMERIC_FAULT="NUMERIC_FAULT",N.MISSING_NEW="MISSING_NEW",N.INVALID_ARGUMENT="INVALID_ARGUMENT",N.MISSING_ARGUMENT="MISSING_ARGUMENT",N.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",N.CALL_EXCEPTION="CALL_EXCEPTION",N.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",N.NONCE_EXPIRED="NONCE_EXPIRED",N.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",N.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",N.TRANSACTION_REPLACED="TRANSACTION_REPLACED";class w{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==m[r]&&this.throwArgumentError("invalid log level name","logLevel",t),f>m[r]||console.log.apply(console,e)}debug(...t){this._log(w.levels.DEBUG,t)}info(...t){this._log(w.levels.INFO,t)}warn(...t){this._log(w.levels.WARNING,t)}makeError(t,e,r){if(h)return this.makeError("censored error",e,{});e||(e=w.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{try{n.push(t+"="+JSON.stringify(r[t]))}catch(e){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push(`code=${e}`),n.push(`version=${this.version}`);const o=t;n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=o,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,w.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){p&&this.throwError("platform missing String.prototype.normalize",w.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:p})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,w.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,w.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,w.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,w.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",w.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",w.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",w.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return g||(g=new w("logger/5.2.0")),g}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",w.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),c){if(!t)return;this.globalLogger().throwError("error censorship permanent",w.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}h=!!t,c=!!e}static setLogLevel(t){const e=m[t.toLowerCase()];null!=e?f=e:w.globalLogger().warn("invalid log level - "+t)}static from(t){return new w(t)}}w.errors=y,w.levels=E;var b=function(t,e,r,n){return new(r||(r=Promise))((function(o,s){function a(t){try{u(n.next(t))}catch(e){s(e)}}function i(t){try{u(n.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,i)}u((n=n.apply(t,e||[])).next())}))};const R=new w("properties/5.2.0");function _(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function O(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||"object"!=typeof t.prototype)break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function A(t){return b(this,void 0,void 0,(function*(){const e=Object.keys(t).map((e=>{const r=t[e];return Promise.resolve(r).then((t=>({key:e,value:t})))}));return(yield Promise.all(e)).reduce(((t,e)=>(t[e.key]=e.value,t)),{})}))}function T(t,e){t&&"object"==typeof t||R.throwArgumentError("invalid object","object",t),Object.keys(t).forEach((r=>{e[r]||R.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)}))}function I(t){const e={};for(const r in t)e[r]=t[r];return e}const v={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function S(t){if(null==t||v[typeof t])return!0;if(Array.isArray(t)||"object"==typeof t){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++)if(!S(t[e[r]]))return!1;return!0}return R.throwArgumentError("Cannot deepCopy "+typeof t,"object",t)}function U(t){if(S(t))return t;if(Array.isArray(t))return Object.freeze(t.map((t=>C(t))));if("object"==typeof t){const e={};for(const r in t){const n=t[r];void 0!==n&&_(e,r,C(n))}return e}return R.throwArgumentError("Cannot deepCopy "+typeof t,"object",t)}function C(t){return U(t)}class P{constructor(t){for(const e in t)this[e]=C(t[e])}}let F=!1,M=!1;const D={debug:1,default:2,info:2,warning:3,error:4,off:5};let L=D.default,j=null;const G=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var k,x;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(k||(k={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(x||(x={}));class V{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==D[r]&&this.throwArgumentError("invalid log level name","logLevel",t),L>D[r]||console.log.apply(console,e)}debug(...t){this._log(V.levels.DEBUG,t)}info(...t){this._log(V.levels.INFO,t)}warn(...t){this._log(V.levels.WARNING,t)}makeError(t,e,r){if(M)return this.makeError("censored error",e,{});e||(e=V.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{try{n.push(t+"="+JSON.stringify(r[t]))}catch(e){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push(`code=${e}`),n.push(`version=${this.version}`);const o=t;n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=o,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,V.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){G&&this.throwError("platform missing String.prototype.normalize",V.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:G})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,V.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,V.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,V.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,V.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",V.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",V.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",V.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return j||(j=new V("logger/5.2.0")),j}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",V.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),F){if(!t)return;this.globalLogger().throwError("error censorship permanent",V.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}M=!!t,F=!!e}static setLogLevel(t){const e=D[t.toLowerCase()];null!=e?L=e:V.globalLogger().warn("invalid log level - "+t)}static from(t){return new V(t)}}V.errors=x,V.levels=k;const z=new V("abi/5.2.0"),W={};let B={calldata:!0,memory:!0,storage:!0},X={calldata:!0,memory:!0};function K(t,e){if("bytes"===t||"string"===t){if(B[e])return!0}else if("address"===t){if("payable"===e)return!0}else if((t.indexOf("[")>=0||"tuple"===t)&&X[e])return!0;return(B[e]||"payable"===e)&&z.throwArgumentError("invalid modifier","name",e),!1}function $(t,e){for(let r in e)_(t,r,e[r])}const J=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),Z=new RegExp(/^(.*)\[([0-9]*)\]$/);class q{constructor(t,e){t!==W&&z.throwError("use fromString",V.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),$(this,e);let r=this.type.match(Z);$(this,r?{arrayLength:parseInt(r[2]||"-1"),arrayChildren:q.fromObject({type:r[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(t){if(t||(t=J.sighash),J[t]||z.throwArgumentError("invalid format type","format",t),t===J.json){let e={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"==typeof this.indexed&&(e.indexed=this.indexed),this.components&&(e.components=this.components.map((e=>JSON.parse(e.format(t))))),JSON.stringify(e)}let e="";return"array"===this.baseType?(e+=this.arrayChildren.format(t),e+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(t!==J.sighash&&(e+=this.type),e+="("+this.components.map((e=>e.format(t))).join(t===J.full?", ":",")+")"):e+=this.type,t!==J.sighash&&(!0===this.indexed&&(e+=" indexed"),t===J.full&&this.name&&(e+=" "+this.name)),e}static from(t,e){return"string"==typeof t?q.fromString(t,e):q.fromObject(t)}static fromObject(t){return q.isParamType(t)?t:new q(W,{name:t.name||null,type:it(t.type),indexed:null==t.indexed?null:!!t.indexed,components:t.components?t.components.map(q.fromObject):null})}static fromString(t,e){return r=function(t,e){let r=t;function n(e){z.throwArgumentError(`unexpected character at position ${e}`,"param",t)}function o(t){let r={type:"",name:"",parent:t,state:{allowType:!0}};return e&&(r.indexed=!1),r}t=t.replace(/\s/g," ");let s={type:"",name:"",state:{allowType:!0}},a=s;for(let i=0;i<t.length;i++){let r=t[i];switch(r){case"(":a.state.allowType&&""===a.type?a.type="tuple":a.state.allowParams||n(i),a.state.allowType=!1,a.type=it(a.type),a.components=[o(a)],a=a.components[0];break;case")":delete a.state,"indexed"===a.name&&(e||n(i),a.indexed=!0,a.name=""),K(a.type,a.name)&&(a.name=""),a.type=it(a.type);let t=a;a=a.parent,a||n(i),delete t.parent,a.state.allowParams=!1,a.state.allowName=!0,a.state.allowArray=!0;break;case",":delete a.state,"indexed"===a.name&&(e||n(i),a.indexed=!0,a.name=""),K(a.type,a.name)&&(a.name=""),a.type=it(a.type);let s=o(a.parent);a.parent.components.push(s),delete a.parent,a=s;break;case" ":a.state.allowType&&""!==a.type&&(a.type=it(a.type),delete a.state.allowType,a.state.allowName=!0,a.state.allowParams=!0),a.state.allowName&&""!==a.name&&("indexed"===a.name?(e||n(i),a.indexed&&n(i),a.indexed=!0,a.name=""):K(a.type,a.name)?a.name="":a.state.allowName=!1);break;case"[":a.state.allowArray||n(i),a.type+=r,a.state.allowArray=!1,a.state.allowName=!1,a.state.readArray=!0;break;case"]":a.state.readArray||n(i),a.type+=r,a.state.readArray=!1,a.state.allowArray=!0,a.state.allowName=!0;break;default:a.state.allowType?(a.type+=r,a.state.allowParams=!0,a.state.allowArray=!0):a.state.allowName?(a.name+=r,delete a.state.allowArray):a.state.readArray?a.type+=r:n(i)}}return a.parent&&z.throwArgumentError("unexpected eof","param",t),delete s.state,"indexed"===a.name?(e||n(r.length-7),a.indexed&&n(r.length-7),a.indexed=!0,a.name=""):K(a.type,a.name)&&(a.name=""),s.type=it(s.type),s}(t,!!e),q.fromObject({name:r.name,type:r.type,indexed:r.indexed,components:r.components});var r}static isParamType(t){return!(null==t||!t._isParamType)}}function H(t,e){return function(t){t=t.trim();let e=[],r="",n=0;for(let o=0;o<t.length;o++){let s=t[o];","===s&&0===n?(e.push(r),r=""):(r+=s,"("===s?n++:")"===s&&(n--,-1===n&&z.throwArgumentError("unbalanced parenthesis","value",t)))}r&&e.push(r);return e}(t).map((t=>q.fromString(t,e)))}class Q{constructor(t,e){t!==W&&z.throwError("use a static from method",V.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),$(this,e),this._isFragment=!0,Object.freeze(this)}static from(t){return Q.isFragment(t)?t:"string"==typeof t?Q.fromString(t):Q.fromObject(t)}static fromObject(t){if(Q.isFragment(t))return t;switch(t.type){case"function":return ot.fromObject(t);case"event":return Y.fromObject(t);case"constructor":return nt.fromObject(t);case"error":return at.fromObject(t);case"fallback":case"receive":return null}return z.throwArgumentError("invalid fragment object","value",t)}static fromString(t){return"event"===(t=(t=(t=t.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?Y.fromString(t.substring(5).trim()):"function"===t.split(" ")[0]?ot.fromString(t.substring(8).trim()):"constructor"===t.split("(")[0].trim()?nt.fromString(t.trim()):"error"===t.split(" ")[0]?at.fromString(t.substring(5).trim()):z.throwArgumentError("unsupported fragment","value",t)}static isFragment(t){return!(!t||!t._isFragment)}}class Y extends Q{format(t){if(t||(t=J.sighash),J[t]||z.throwArgumentError("invalid format type","format",t),t===J.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});let e="";return t!==J.sighash&&(e+="event "),e+=this.name+"("+this.inputs.map((e=>e.format(t))).join(t===J.full?", ":",")+") ",t!==J.sighash&&this.anonymous&&(e+="anonymous "),e.trim()}static from(t){return"string"==typeof t?Y.fromString(t):Y.fromObject(t)}static fromObject(t){if(Y.isEventFragment(t))return t;"event"!==t.type&&z.throwArgumentError("invalid event object","value",t);const e={name:lt(t.name),anonymous:t.anonymous,inputs:t.inputs?t.inputs.map(q.fromObject):[],type:"event"};return new Y(W,e)}static fromString(t){let e=t.match(ct);e||z.throwArgumentError("invalid event string","value",t);let r=!1;return e[3].split(" ").forEach((t=>{switch(t.trim()){case"anonymous":r=!0;break;case"":break;default:z.warn("unknown modifier: "+t)}})),Y.fromObject({name:e[1].trim(),anonymous:r,inputs:H(e[2],!0),type:"event"})}static isEventFragment(t){return t&&t._isFragment&&"event"===t.type}}function tt(e,r){r.gas=null;let n=e.split("@");return 1!==n.length?(n.length>2&&z.throwArgumentError("invalid human-readable ABI signature","value",e),n[1].match(/^[0-9]+$/)||z.throwArgumentError("invalid human-readable ABI signature gas","value",e),r.gas=t.from(n[1]),n[0]):e}function et(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach((t=>{switch(t.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+t)}}))}function rt(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return null!=t.stateMutability?(e.stateMutability=t.stateMutability,e.constant="view"===e.stateMutability||"pure"===e.stateMutability,null!=t.constant&&!!t.constant!==e.constant&&z.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable="payable"===e.stateMutability,null!=t.payable&&!!t.payable!==e.payable&&z.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):null!=t.payable?(e.payable=!!t.payable,null!=t.constant||e.payable||"constructor"===t.type||z.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&z.throwArgumentError("cannot have constant payable function","value",t)):null!=t.constant?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):"constructor"!==t.type&&z.throwArgumentError("unable to determine stateMutability","value",t),e}class nt extends Q{format(t){if(t||(t=J.sighash),J[t]||z.throwArgumentError("invalid format type","format",t),t===J.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});t===J.sighash&&z.throwError("cannot format a constructor for sighash",V.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let e="constructor("+this.inputs.map((e=>e.format(t))).join(t===J.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(e+=this.stateMutability+" "),e.trim()}static from(t){return"string"==typeof t?nt.fromString(t):nt.fromObject(t)}static fromObject(e){if(nt.isConstructorFragment(e))return e;"constructor"!==e.type&&z.throwArgumentError("invalid constructor object","value",e);let r=rt(e);r.constant&&z.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(q.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?t.from(e.gas):null};return new nt(W,n)}static fromString(t){let e={type:"constructor"},r=(t=tt(t,e)).match(ct);return r&&"constructor"===r[1].trim()||z.throwArgumentError("invalid constructor string","value",t),e.inputs=H(r[2].trim(),!1),et(r[3].trim(),e),nt.fromObject(e)}static isConstructorFragment(t){return t&&t._isFragment&&"constructor"===t.type}}class ot extends nt{format(t){if(t||(t=J.sighash),J[t]||z.throwArgumentError("invalid format type","format",t),t===J.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((e=>JSON.parse(e.format(t)))),outputs:this.outputs.map((e=>JSON.parse(e.format(t))))});let e="";return t!==J.sighash&&(e+="function "),e+=this.name+"("+this.inputs.map((e=>e.format(t))).join(t===J.full?", ":",")+") ",t!==J.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(e+=this.stateMutability+" "):this.constant&&(e+="view "),this.outputs&&this.outputs.length&&(e+="returns ("+this.outputs.map((e=>e.format(t))).join(", ")+") "),null!=this.gas&&(e+="@"+this.gas.toString()+" ")),e.trim()}static from(t){return"string"==typeof t?ot.fromString(t):ot.fromObject(t)}static fromObject(e){if(ot.isFunctionFragment(e))return e;"function"!==e.type&&z.throwArgumentError("invalid function object","value",e);let r=rt(e);const n={type:e.type,name:lt(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map(q.fromObject):[],outputs:e.outputs?e.outputs.map(q.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?t.from(e.gas):null};return new ot(W,n)}static fromString(t){let e={type:"function"},r=(t=tt(t,e)).split(" returns ");r.length>2&&z.throwArgumentError("invalid function string","value",t);let n=r[0].match(ct);if(n||z.throwArgumentError("invalid function signature","value",t),e.name=n[1].trim(),e.name&&lt(e.name),e.inputs=H(n[2],!1),et(n[3].trim(),e),r.length>1){let n=r[1].match(ct);""==n[1].trim()&&""==n[3].trim()||z.throwArgumentError("unexpected tokens","value",t),e.outputs=H(n[2],!1)}else e.outputs=[];return ot.fromObject(e)}static isFunctionFragment(t){return t&&t._isFragment&&"function"===t.type}}function st(t){const e=t.format();return"Error(string)"!==e&&"Panic(uint256)"!==e||z.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class at extends Q{format(t){if(t||(t=J.sighash),J[t]||z.throwArgumentError("invalid format type","format",t),t===J.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});let e="";return t!==J.sighash&&(e+="error "),e+=this.name+"("+this.inputs.map((e=>e.format(t))).join(t===J.full?", ":",")+") ",e.trim()}static from(t){return"string"==typeof t?at.fromString(t):at.fromObject(t)}static fromObject(t){if(at.isErrorFragment(t))return t;"error"!==t.type&&z.throwArgumentError("invalid error object","value",t);const e={type:t.type,name:lt(t.name),inputs:t.inputs?t.inputs.map(q.fromObject):[]};return st(new at(W,e))}static fromString(t){let e={type:"error"},r=t.match(ct);return r||z.throwArgumentError("invalid error signature","value",t),e.name=r[1].trim(),e.name&&lt(e.name),e.inputs=H(r[2],!1),st(at.fromObject(e))}static isErrorFragment(t){return t&&t._isFragment&&"error"===t.type}}function it(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const ut=new RegExp("^[A-Za-z_][A-Za-z0-9_]*$");function lt(t){return t&&t.match(ut)||z.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const ct=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");const ht=new V("abi/5.2.0");function mt(t){const e=[],r=function(t,n){if(Array.isArray(n))for(let s in n){const a=t.slice();a.push(s);try{r(a,n[s])}catch(o){e.push({path:a,error:o})}}};return r([],t),e}class ft{constructor(t,e,r,n){this.name=t,this.type=e,this.localName=r,this.dynamic=n}_throwError(t,e){ht.throwArgumentError(t,this.localName,e)}}class gt{constructor(t){_(this,"wordSize",t||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(t)}get data(){return e(this._data)}get length(){return this._dataLength}_writeData(t){return this._data.push(t),this._dataLength+=t.length,t.length}appendWriter(t){return this._writeData(r(t._data))}writeBytes(t){let e=n(t);const o=e.length%this.wordSize;return o&&(e=r([e,this._padding.slice(o)])),this._writeData(e)}_getValue(e){let o=n(t.from(e));return o.length>this.wordSize&&ht.throwError("value out-of-bounds",V.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:o.length}),o.length%this.wordSize&&(o=r([this._padding.slice(o.length%this.wordSize),o])),o}writeValue(t){return this._writeData(this._getValue(t))}writeUpdatableValue(){const t=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,e=>{this._data[t]=this._getValue(e)}}}class pt{constructor(t,e,r,o){_(this,"_data",n(t)),_(this,"wordSize",e||32),_(this,"_coerceFunc",r),_(this,"allowLoose",o),this._offset=0}get data(){return o(this._data)}get consumed(){return this._offset}static coerce(t,e){let r=t.match("^u?int([0-9]+)$");return r&&parseInt(r[1])<=48&&(e=e.toNumber()),e}coerce(t,e){return this._coerceFunc?this._coerceFunc(t,e):pt.coerce(t,e)}_peekBytes(t,e,r){let n=Math.ceil(e/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&r&&this._offset+e<=this._data.length?n=e:ht.throwError("data out-of-bounds",V.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)}subReader(t){return new pt(this._data.slice(this._offset+t),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(t,e){let r=this._peekBytes(0,t,!!e);return this._offset+=r.length,r.slice(0,t)}readValue(){return t.from(this.readBytes(this.wordSize))}}class Et extends ft{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,e){try{s(e)}catch(r){this._throwError(r.message,e)}return t.writeValue(e)}decode(t){return s(a(t.readValue().toHexString(),20))}}class dt extends ft{constructor(t){super(t.name,t.type,void 0,t.dynamic),this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,e){return this.coder.encode(t,e)}decode(t){return this.coder.decode(t)}}const yt=new V("abi/5.2.0");function Nt(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&"object"==typeof r){let t={};n=e.map((e=>{const n=e.localName;return n||yt.throwError("cannot encode object for signature with missing names",V.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),t[n]&&yt.throwError("cannot encode object for signature with duplicate names",V.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),t[n]=!0,r[n]}))}else yt.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&yt.throwArgumentError("types/value length mismatch","tuple",r);let o=new gt(t.wordSize),s=new gt(t.wordSize),a=[];e.forEach(((t,e)=>{let r=n[e];if(t.dynamic){let e=s.length;t.encode(s,r);let n=o.writeUpdatableValue();a.push((t=>{n(t+e)}))}else t.encode(o,r)})),a.forEach((t=>{t(o.length)}));let i=t.appendWriter(o);return i+=t.appendWriter(s),i}function wt(t,e){let r=[],n=t.subReader(0);e.forEach((e=>{let o=null;if(e.dynamic){let r=t.readValue(),a=n.subReader(r.toNumber());try{o=e.decode(a)}catch(s){if(s.code===V.errors.BUFFER_OVERRUN)throw s;o=s,o.baseType=e.name,o.name=e.localName,o.type=e.type}}else try{o=e.decode(t)}catch(s){if(s.code===V.errors.BUFFER_OVERRUN)throw s;o=s,o.baseType=e.name,o.name=e.localName,o.type=e.type}null!=o&&r.push(o)}));const o=e.reduce(((t,e)=>{const r=e.localName;return r&&(t[r]||(t[r]=0),t[r]++),t}),{});e.forEach(((t,e)=>{let n=t.localName;if(!n||1!==o[n])return;if("length"===n&&(n="_length"),null!=r[n])return;const s=r[e];s instanceof Error?Object.defineProperty(r,n,{get:()=>{throw s}}):r[n]=s}));for(let s=0;s<r.length;s++){const t=r[s];t instanceof Error&&Object.defineProperty(r,s,{get:()=>{throw t}})}return Object.freeze(r)}class bt extends ft{constructor(t,e,r){super("array",t.type+"["+(e>=0?e:"")+"]",r,-1===e||t.dynamic),this.coder=t,this.length=e}defaultValue(){const t=this.coder.defaultValue(),e=[];for(let r=0;r<this.length;r++)e.push(t);return e}encode(t,e){Array.isArray(e)||this._throwError("expected array value",e);let r=this.length;-1===r&&(r=e.length,t.writeValue(e.length)),yt.checkArgumentCount(e.length,r,"coder array"+(this.localName?" "+this.localName:""));let n=[];for(let o=0;o<e.length;o++)n.push(this.coder);return Nt(t,n,e)}decode(t){let e=this.length;-1===e&&(e=t.readValue().toNumber(),32*e>t._data.length&&yt.throwError("insufficient data length",V.errors.BUFFER_OVERRUN,{length:t._data.length,count:e}));let r=[];for(let n=0;n<e;n++)r.push(new dt(this.coder));return t.coerce(this.name,wt(t,r))}}class Rt extends ft{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,e){return t.writeValue(e?1:0)}decode(t){return t.coerce(this.type,!t.readValue().isZero())}}class _t extends ft{constructor(t,e){super(t,t,e,!0)}defaultValue(){return"0x"}encode(t,e){e=n(e);let r=t.writeValue(e.length);return r+=t.writeBytes(e),r}decode(t){return t.readBytes(t.readValue().toNumber(),!0)}}class Ot extends _t{constructor(t){super("bytes",t)}decode(t){return t.coerce(this.name,o(super.decode(t)))}}class At extends ft{constructor(t,e){let r="bytes"+String(t);super(r,r,e,!1),this.size=t}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(t,e){let r=n(e);return r.length!==this.size&&this._throwError("incorrect data length",e),t.writeBytes(r)}decode(t){return t.coerce(this.name,o(t.readBytes(this.size)))}}class Tt extends ft{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,e){return null!=e&&this._throwError("not null",e),t.writeBytes([])}decode(t){return t.readBytes(0),t.coerce(this.name,null)}}const It=t.from(-1),vt=t.from(0),St=t.from(1),Ut=t.from(2),Ct=t.from("1000000000000000000"),Pt=t.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Ft extends ft{constructor(t,e,r){const n=(e?"int":"uint")+8*t;super(n,n,r,!1),this.size=t,this.signed=e}defaultValue(){return 0}encode(e,r){let n=t.from(r),o=Pt.mask(8*e.wordSize);if(this.signed){let t=o.mask(8*this.size-1);(n.gt(t)||n.lt(t.add(St).mul(It)))&&this._throwError("value out-of-bounds",r)}else(n.lt(vt)||n.gt(o.mask(8*this.size)))&&this._throwError("value out-of-bounds",r);return n=n.toTwos(8*this.size).mask(8*this.size),this.signed&&(n=n.fromTwos(8*this.size).toTwos(8*e.wordSize)),e.writeValue(n)}decode(t){let e=t.readValue().mask(8*this.size);return this.signed&&(e=e.fromTwos(8*this.size)),t.coerce(this.name,e)}}let Mt=!1,Dt=!1;const Lt={debug:1,default:2,info:2,warning:3,error:4,off:5};let jt=Lt.default,Gt=null;const kt=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var xt,Vt;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(xt||(xt={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(Vt||(Vt={}));class zt{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==Lt[r]&&this.throwArgumentError("invalid log level name","logLevel",t),jt>Lt[r]||console.log.apply(console,e)}debug(...t){this._log(zt.levels.DEBUG,t)}info(...t){this._log(zt.levels.INFO,t)}warn(...t){this._log(zt.levels.WARNING,t)}makeError(t,e,r){if(Dt)return this.makeError("censored error",e,{});e||(e=zt.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{try{n.push(t+"="+JSON.stringify(r[t]))}catch(e){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push(`code=${e}`),n.push(`version=${this.version}`);const o=t;n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=o,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,zt.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){kt&&this.throwError("platform missing String.prototype.normalize",zt.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:kt})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,zt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,zt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,zt.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,zt.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",zt.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",zt.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",zt.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return Gt||(Gt=new zt("logger/5.2.0")),Gt}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",zt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Mt){if(!t)return;this.globalLogger().throwError("error censorship permanent",zt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Dt=!!t,Mt=!!e}static setLogLevel(t){const e=Lt[t.toLowerCase()];null!=e?jt=e:zt.globalLogger().warn("invalid log level - "+t)}static from(t){return new zt(t)}}zt.errors=Vt,zt.levels=xt;const Wt=new zt("strings/5.2.0");var Bt,Xt,Kt,$t;function Jt(t,e,r,n,o){if(t===Kt.BAD_PREFIX||t===Kt.UNEXPECTED_CONTINUE){let t=0;for(let n=e+1;n<r.length&&r[n]>>6==2;n++)t++;return t}return t===Kt.OVERRUN?r.length-e-1:0}(Xt=Bt||(Bt={})).current="",Xt.NFC="NFC",Xt.NFD="NFD",Xt.NFKC="NFKC",Xt.NFKD="NFKD",($t=Kt||(Kt={})).UNEXPECTED_CONTINUE="unexpected continuation byte",$t.BAD_PREFIX="bad codepoint prefix",$t.OVERRUN="string overrun",$t.MISSING_CONTINUE="missing continuation byte",$t.OUT_OF_RANGE="out of UTF-8 range",$t.UTF16_SURROGATE="UTF-16 surrogate",$t.OVERLONG="overlong representation";const Zt=Object.freeze({error:function(t,e,r,n,o){return Wt.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)},ignore:Jt,replace:function(t,e,r,n,o){return t===Kt.OVERLONG?(n.push(o),0):(n.push(65533),Jt(t,e,r))}});function qt(t,e){null==e&&(e=Zt.error),t=n(t);const r=[];let o=0;for(;o<t.length;){const n=t[o++];if(n>>7==0){r.push(n);continue}let s=null,a=null;if(192==(224&n))s=1,a=127;else if(224==(240&n))s=2,a=2047;else{if(240!=(248&n)){o+=e(128==(192&n)?Kt.UNEXPECTED_CONTINUE:Kt.BAD_PREFIX,o-1,t,r);continue}s=3,a=65535}if(o-1+s>=t.length){o+=e(Kt.OVERRUN,o-1,t,r);continue}let i=n&(1<<8-s-1)-1;for(let u=0;u<s;u++){let n=t[o];if(128!=(192&n)){o+=e(Kt.MISSING_CONTINUE,o,t,r),i=null;break}i=i<<6|63&n,o++}null!==i&&(i>1114111?o+=e(Kt.OUT_OF_RANGE,o-1-s,t,r,i):i>=55296&&i<=57343?o+=e(Kt.UTF16_SURROGATE,o-1-s,t,r,i):i<=a?o+=e(Kt.OVERLONG,o-1-s,t,r,i):r.push(i))}return r}function Ht(t,e=Bt.current){e!=Bt.current&&(Wt.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const e=t.charCodeAt(n);if(e<128)r.push(e);else if(e<2048)r.push(e>>6|192),r.push(63&e|128);else if(55296==(64512&e)){n++;const o=t.charCodeAt(n);if(n>=t.length||56320!=(64512&o))throw new Error("invalid utf-8 string");const s=65536+((1023&e)<<10)+(1023&o);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(63&s|128)}else r.push(e>>12|224),r.push(e>>6&63|128),r.push(63&e|128)}return n(r)}function Qt(t){const e="0000"+t.toString(16);return"\\u"+e.substring(e.length-4)}function Yt(t,e){return'"'+qt(t,e).map((t=>{if(t<256){switch(t){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(t>=32&&t<127)return String.fromCharCode(t)}return t<=65535?Qt(t):Qt(55296+((t-=65536)>>10&1023))+Qt(56320+(1023&t))})).join("")+'"'}function te(t){return t.map((t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10&1023),56320+(1023&t))))).join("")}function ee(t,e){return te(qt(t,e))}function re(t,e=Bt.current){return qt(Ht(t,e))}class ne extends _t{constructor(t){super("string",t)}defaultValue(){return""}encode(t,e){return super.encode(t,Ht(e))}decode(t){return ee(super.decode(t))}}class oe extends ft{constructor(t,e){let r=!1;const n=[];t.forEach((t=>{t.dynamic&&(r=!0),n.push(t.type)}));super("tuple","tuple("+n.join(",")+")",e,r),this.coders=t}defaultValue(){const t=[];this.coders.forEach((e=>{t.push(e.defaultValue())}));const e=this.coders.reduce(((t,e)=>{const r=e.localName;return r&&(t[r]||(t[r]=0),t[r]++),t}),{});return this.coders.forEach(((r,n)=>{let o=r.localName;o&&1===e[o]&&("length"===o&&(o="_length"),null==t[o]&&(t[o]=t[n]))})),Object.freeze(t)}encode(t,e){return Nt(t,this.coders,e)}decode(t){return t.coerce(this.name,wt(t,this.coders))}}const se=new V("abi/5.2.0"),ae=new RegExp(/^bytes([0-9]*)$/),ie=new RegExp(/^(u?int)([0-9]*)$/);class ue{constructor(t){se.checkNew(new.target,ue),_(this,"coerceFunc",t||null)}_getCoder(t){switch(t.baseType){case"address":return new Et(t.name);case"bool":return new Rt(t.name);case"string":return new ne(t.name);case"bytes":return new Ot(t.name);case"array":return new bt(this._getCoder(t.arrayChildren),t.arrayLength,t.name);case"tuple":return new oe((t.components||[]).map((t=>this._getCoder(t))),t.name);case"":return new Tt(t.name)}let e=t.type.match(ie);if(e){let r=parseInt(e[2]||"256");return(0===r||r>256||r%8!=0)&&se.throwArgumentError("invalid "+e[1]+" bit length","param",t),new Ft(r/8,"int"===e[1],t.name)}if(e=t.type.match(ae),e){let r=parseInt(e[1]);return(0===r||r>32)&&se.throwArgumentError("invalid bytes length","param",t),new At(r,t.name)}return se.throwArgumentError("invalid type","type",t.type)}_getWordSize(){return 32}_getReader(t,e){return new pt(t,this._getWordSize(),this.coerceFunc,e)}_getWriter(){return new gt(this._getWordSize())}getDefaultValue(t){const e=t.map((t=>this._getCoder(q.from(t))));return new oe(e,"_").defaultValue()}encode(t,e){t.length!==e.length&&se.throwError("types/values length mismatch",V.errors.INVALID_ARGUMENT,{count:{types:t.length,values:e.length},value:{types:t,values:e}});const r=t.map((t=>this._getCoder(q.from(t)))),n=new oe(r,"_"),o=this._getWriter();return n.encode(o,e),o.data}decode(t,e,r){const o=t.map((t=>this._getCoder(q.from(t))));return new oe(o,"_").decode(this._getReader(n(e),r))}}const le=new ue;function ce(t){return i(Ht(t))}const he=new V("abi/5.2.0");class me extends P{}class fe extends P{}class ge extends P{static isIndexed(t){return!(!t||!t._isIndexed)}}const pe={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function Ee(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}class de{constructor(t){he.checkNew(new.target,de);let e=[];e="string"==typeof t?JSON.parse(t):t,_(this,"fragments",e.map((t=>Q.from(t))).filter((t=>null!=t))),_(this,"_abiCoder",O(new.target,"getAbiCoder")()),_(this,"functions",{}),_(this,"errors",{}),_(this,"events",{}),_(this,"structs",{}),this.fragments.forEach((t=>{let e=null;switch(t.type){case"constructor":return this.deploy?void he.warn("duplicate definition - constructor"):void _(this,"deploy",t);case"function":e=this.functions;break;case"event":e=this.events;break;case"error":e=this.errors;break;default:return}let r=t.format();e[r]?he.warn("duplicate definition - "+r):e[r]=t})),this.deploy||_(this,"deploy",nt.from({payable:!1,type:"constructor"})),_(this,"_isInterface",!0)}format(t){t||(t=J.full),t===J.sighash&&he.throwArgumentError("interface does not support formatting sighash","format",t);const e=this.fragments.map((e=>e.format(t)));return t===J.json?JSON.stringify(e.map((t=>JSON.parse(t)))):e}static getAbiCoder(){return le}static getAddress(t){return s(t)}static getSighash(t){return u(ce(t.format()),0,4)}static getEventTopic(t){return ce(t.format())}getFunction(t){if(l(t)){for(const e in this.functions)if(t===this.getSighash(e))return this.functions[e];he.throwArgumentError("no matching function","sighash",t)}if(-1===t.indexOf("(")){const e=t.trim(),r=Object.keys(this.functions).filter((t=>t.split("(")[0]===e));return 0===r.length?he.throwArgumentError("no matching function","name",e):r.length>1&&he.throwArgumentError("multiple matching functions","name",e),this.functions[r[0]]}const e=this.functions[ot.fromString(t).format()];return e||he.throwArgumentError("no matching function","signature",t),e}getEvent(t){if(l(t)){const e=t.toLowerCase();for(const t in this.events)if(e===this.getEventTopic(t))return this.events[t];he.throwArgumentError("no matching event","topichash",e)}if(-1===t.indexOf("(")){const e=t.trim(),r=Object.keys(this.events).filter((t=>t.split("(")[0]===e));return 0===r.length?he.throwArgumentError("no matching event","name",e):r.length>1&&he.throwArgumentError("multiple matching events","name",e),this.events[r[0]]}const e=this.events[Y.fromString(t).format()];return e||he.throwArgumentError("no matching event","signature",t),e}getError(t){if(l(t)){const e=O(this.constructor,"getSighash");for(const r in this.errors){if(t===e(this.errors[r]))return this.errors[r]}he.throwArgumentError("no matching error","sighash",t)}if(-1===t.indexOf("(")){const e=t.trim(),r=Object.keys(this.errors).filter((t=>t.split("(")[0]===e));return 0===r.length?he.throwArgumentError("no matching error","name",e):r.length>1&&he.throwArgumentError("multiple matching errors","name",e),this.errors[r[0]]}const e=this.errors[ot.fromString(t).format()];return e||he.throwArgumentError("no matching error","signature",t),e}getSighash(t){return"string"==typeof t&&(t=this.getFunction(t)),O(this.constructor,"getSighash")(t)}getEventTopic(t){return"string"==typeof t&&(t=this.getEvent(t)),O(this.constructor,"getEventTopic")(t)}_decodeParams(t,e){return this._abiCoder.decode(t,e)}_encodeParams(t,e){return this._abiCoder.encode(t,e)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeFunctionData(t,e){"string"==typeof t&&(t=this.getFunction(t));const r=n(e);return o(r.slice(0,4))!==this.getSighash(t)&&he.throwArgumentError(`data signature does not match function ${t.name}.`,"data",o(r)),this._decodeParams(t.inputs,r.slice(4))}encodeFunctionData(t,e){return"string"==typeof t&&(t=this.getFunction(t)),o(r([this.getSighash(t),this._encodeParams(t.inputs,e||[])]))}decodeFunctionResult(t,e){"string"==typeof t&&(t=this.getFunction(t));let r=n(e),s=null,a=null,i=null,u=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(t.outputs,r)}catch(l){}break;case 4:{const t=o(r.slice(0,4)),e=pe[t];if(e)a=this._abiCoder.decode(e.inputs,r.slice(4)),i=e.name,u=e.signature,e.reason&&(s=a[0]);else try{const e=this.getError(t);a=this._abiCoder.decode(e.inputs,r.slice(4)),i=e.name,u=e.format()}catch(l){console.log(l)}break}}return he.throwError("call revert exception",V.errors.CALL_EXCEPTION,{method:t.format(),errorArgs:a,errorName:i,errorSignature:u,reason:s})}encodeFunctionResult(t,e){return"string"==typeof t&&(t=this.getFunction(t)),o(this._abiCoder.encode(t.outputs,e||[]))}encodeFilterTopics(t,e){"string"==typeof t&&(t=this.getEvent(t)),e.length>t.inputs.length&&he.throwError("too many arguments for "+t.format(),V.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:e});let r=[];t.anonymous||r.push(this.getEventTopic(t));const n=(t,e)=>"string"===t.type?ce(e):"bytes"===t.type?i(o(e)):("address"===t.type&&this._abiCoder.encode(["address"],[e]),a(o(e),32));for(e.forEach(((e,o)=>{let s=t.inputs[o];s.indexed?null==e?r.push(null):"array"===s.baseType||"tuple"===s.baseType?he.throwArgumentError("filtering with tuples or arrays not supported","contract."+s.name,e):Array.isArray(e)?r.push(e.map((t=>n(s,t)))):r.push(n(s,e)):null!=e&&he.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+s.name,e)}));r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(t,e){"string"==typeof t&&(t=this.getEvent(t));const r=[],n=[],o=[];return t.anonymous||r.push(this.getEventTopic(t)),e.length!==t.inputs.length&&he.throwArgumentError("event arguments/values mismatch","values",e),t.inputs.forEach(((t,s)=>{const a=e[s];if(t.indexed)if("string"===t.type)r.push(ce(a));else if("bytes"===t.type)r.push(i(a));else{if("tuple"===t.baseType||"array"===t.baseType)throw new Error("not implemented");r.push(this._abiCoder.encode([t.type],[a]))}else n.push(t),o.push(a)})),{data:this._abiCoder.encode(n,o),topics:r}}decodeEventLog(t,e,n){if("string"==typeof t&&(t=this.getEvent(t)),null!=n&&!t.anonymous){let e=this.getEventTopic(t);l(n[0],32)&&n[0].toLowerCase()===e||he.throwError("fragment/topic mismatch",V.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:e,value:n[0]}),n=n.slice(1)}let o=[],s=[],a=[];t.inputs.forEach(((t,e)=>{t.indexed?"string"===t.type||"bytes"===t.type||"tuple"===t.baseType||"array"===t.baseType?(o.push(q.fromObject({type:"bytes32",name:t.name})),a.push(!0)):(o.push(t),a.push(!1)):(s.push(t),a.push(!1))}));let i=null!=n?this._abiCoder.decode(o,r(n)):null,u=this._abiCoder.decode(s,e,!0),c=[],h=0,m=0;t.inputs.forEach(((t,e)=>{if(t.indexed)if(null==i)c[e]=new ge({_isIndexed:!0,hash:null});else if(a[e])c[e]=new ge({_isIndexed:!0,hash:i[m++]});else try{c[e]=i[m++]}catch(r){c[e]=r}else try{c[e]=u[h++]}catch(r){c[e]=r}if(t.name&&null==c[t.name]){const r=c[e];r instanceof Error?Object.defineProperty(c,t.name,{get:()=>{throw Ee(`property ${JSON.stringify(t.name)}`,r)}}):c[t.name]=r}}));for(let r=0;r<c.length;r++){const t=c[r];t instanceof Error&&Object.defineProperty(c,r,{get:()=>{throw Ee(`index ${r}`,t)}})}return Object.freeze(c)}parseTransaction(e){let r=this.getFunction(e.data.substring(0,10).toLowerCase());return r?new fe({args:this._abiCoder.decode(r.inputs,"0x"+e.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:t.from(e.value||"0")}):null}parseLog(t){let e=this.getEvent(t.topics[0]);return!e||e.anonymous?null:new me({eventFragment:e,name:e.name,signature:e.format(),topic:this.getEventTopic(e),args:this.decodeEventLog(e,t.data,t.topics)})}static isInterface(t){return!(!t||!t._isInterface)}}export{ue as A,P as D,at as E,Q as F,de as I,me as L,Pt as M,It as N,St as O,q as P,Ut as T,Bt as U,Ct as W,vt as Z,te as _,ee as a,re as b,C as c,_ as d,T as e,ge as f,O as g,mt as h,ce as i,le as j,Y as k,ot as l,J as m,fe as n,Yt as o,Zt as p,Kt as q,A as r,I as s,Ht as t};
